–û—Ç–ª–∏—á–Ω–æ, –≤–æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `README.md` –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ, —Å –≤–∞—à–∏–º–∏ –Ω–æ–≤—ã–º–∏ –ø—É—Ç—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

-----

# vite-svgsprite ‚ú®

**–ü—Ä–æ—Å—Ç–æ–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π Vite-–ø–ª–∞–≥–∏–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SVG-—Å–ø—Ä–∞–π—Ç–æ–≤.**

`vite-svgsprite` —Å–æ–±–∏—Ä–∞–µ—Ç –≤–∞—à–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ SVG-–∏–∫–æ–Ω–∫–∏ –≤ –µ–¥–∏–Ω—ã–π –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø—Ä–∞–π—Ç, –ø–æ–≤—ã—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —É–ø—Ä–æ—â–∞—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∫–æ–Ω–∫–∞–º–∏ –≤ –≤–∞—à–∏—Ö Vite-–ø—Ä–æ–µ–∫—Ç–∞—Ö. –ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö –ª–∏—à–Ω–∏—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ –∫–∞–∂–¥–æ–π –∏–∫–æ–Ω–∫–æ–π\!

-----

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω, –∏—Å–ø–æ–ª—å–∑—É—è npm –∏–ª–∏ yarn: (–ù–ï–¢ –ï–ì–û –¢–ê–ú)

```bash
npm install –≤–∞—à-–ø–∞–∫–µ—Ç-vite-svgsprite-–∏–º—è # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–µ –∏–º—è –ø–∞–∫–µ—Ç–∞
# –∏–ª–∏
yarn add –≤–∞—à-–ø–∞–∫–µ—Ç-vite-svgsprite-–∏–º—è # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–µ –∏–º—è –ø–∞–∫–µ—Ç–∞
```

*(–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–µ –ø—É–±–ª–∏–∫—É—è –µ–≥–æ –∫–∞–∫ npm-–ø–∞–∫–µ—Ç, –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ `vite-svgsprite.js` –≤ –ø–∞–ø–∫—É `plugins` –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ –æ—Ç—Ç—É–¥–∞.)*

-----

## üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1\. –î–æ–±–∞–≤—å—Ç–µ –ø–ª–∞–≥–∏–Ω –≤ –≤–∞—à `vite.config.js`

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `vite-svgsprite.js` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –ø–∞–ø–∫–µ `plugins/` –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞) –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ –Ω–µ–≥–æ –∫–æ–¥ –ø–ª–∞–≥–∏–Ω–∞:

```javascript
// plugins/vite-svgsprite.js
import { promises as fs } from 'fs';
import path from 'path';

export default function viteSvgSprite(options = {}) {
  // –ù–æ–≤—ã–µ –ø—É—Ç–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  const defaultOptions = {
    input: 'src/icons',      // –ü—É—Ç—å –∫ –∏—Å—Ö–æ–¥–Ω—ã–º SVG-–∏–∫–æ–Ω–∫–∞–º (–æ—Ç –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞)
    output: 'dist/assets',   // –ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø—Ä–∞–π—Ç–∞ (–æ—Ç –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞)
    name: 'sprite.svg',      // –ò–º—è —Ñ–∞–π–ª–∞ —Å–ø—Ä–∞–π—Ç–∞
  };

  const config = { ...defaultOptions, ...options };

  async function generateIconSprite() {
    const iconsDir = path.join(process.cwd(), config.input);
    const outputDir = path.join(process.cwd(), config.output);
    const spriteFilePath = path.join(outputDir, config.name);

    let files;
    try {
      files = await fs.readdir(iconsDir);
    } catch (error) {
      if (error.code === 'ENOENT') {
        console.warn(`[vite-svgsprite] –ü–∞–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–∞–º–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: ${iconsDir}. –°–ø—Ä–∞–π—Ç –Ω–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω.`);
        return;
      }
      throw error;
    }

    let symbols = '';

    for (const file of files) {
      if (!file.endsWith('.svg')) continue;
      let svgContent = await fs.readFile(path.join(iconsDir, file), 'utf8');
      const id = file.replace('.svg', ''); // –ò–º—è —Ñ–∞–π–ª–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è ID —Å–∏–º–≤–æ–ª–∞
      svgContent = svgContent
        .replace(/id="[^"]+"/, '') // –£–¥–∞–ª—è–µ–º –ª—é–±–æ–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π id
        .replace('<svg', `<symbol id="${id}"`) // –ò–∑–º–µ–Ω—è–µ–º <svg> –Ω–∞ <symbol>
        .replace('</svg>', '</symbol>');
      symbols += svgContent + '\n';
    }

    await fs.mkdir(outputDir, { recursive: true });
    const sprite = `<svg>\n\n${symbols}</svg>`;
    await fs.writeFile(spriteFilePath, sprite);
    console.log(`[vite-svgsprite] SVG-—Å–ø—Ä–∞–π—Ç —Å–æ–∑–¥–∞–Ω: ${spriteFilePath}`);
  }

  return {
    name: 'vite-svgsprite',
    buildStart() {
      return generateIconSprite();
    },
    configureServer(server) {
      const watcherPath = path.join(process.cwd(), config.input, '*.svg');
      server.watcher.add(watcherPath);
      server.watcher.on('change', async (changedPath) => {
        if (changedPath.endsWith('.svg')) {
          console.log(`[vite-svgsprite] –ò–∑–º–µ–Ω–µ–Ω–∏–µ SVG-—Ñ–∞–π–ª–∞: ${changedPath}. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º —Å–ø—Ä–∞–π—Ç.`);
          return generateIconSprite();
        }
      });
    },
  };
}
```

–¢–µ–ø–µ—Ä—å –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤ –≤–∞—à–µ–º `vite.config.js`:

```javascript
// vite.config.js
import { defineConfig } from 'vite';
import viteSvgSprite from './plugins/vite-svgsprite.js'; // –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

export default defineConfig({
  plugins: [
    viteSvgSprite({
      // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
      // input: 'src/assets/svg-icons', // –ò–∫–æ–Ω–∫–∏ –±—É–¥—É—Ç —á–∏—Ç–∞—Ç—å—Å—è –∏–∑ `src/assets/svg-icons/`
      // output: 'public/images',       // –°–ø—Ä–∞–π—Ç –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ –∫–æ—Ä–Ω–µ–≤–æ–π `public/` –ø–∞–ø–∫–µ
      // name: 'my-custom-sprite.svg',  // –ò–º—è —Ñ–∞–π–ª–∞ —Å–ø—Ä–∞–π—Ç–∞ –±—É–¥–µ—Ç `my-custom-sprite.svg`
    }),
    // ...–¥—Ä—É–≥–∏–µ –ø–ª–∞–≥–∏–Ω—ã
  ],
});
```

-----

### 2\. –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ –≤–∞—à–∏ SVG-–∏–∫–æ–Ω–∫–∏

–ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤–∞—à–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ SVG-—Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É, —É–∫–∞–∑–∞–Ω–Ω—É—é –≤ –æ–ø—Ü–∏–∏ **`input`** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **`src/icons`**).

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞:

```
my-vite-project/
‚îú‚îÄ‚îÄ dist/
‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ       ‚îî‚îÄ‚îÄ (–∑–¥–µ—Å—å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤–∞—à —Å–ø—Ä–∞–π—Ç –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏)
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ (–ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø—Ä—è–º–æ–π –æ—Ç–¥–∞—á–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤ —Ä–µ–∂–∏–º–µ dev)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ icons/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home.svg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.svg
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user.svg
‚îÇ   ‚îî‚îÄ‚îÄ main.js
‚îú‚îÄ‚îÄ plugins/
‚îÇ   ‚îî‚îÄ‚îÄ vite-svgsprite.js
‚îî‚îÄ‚îÄ vite.config.js
```

-----

### 3\. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–∫–æ–Ω–∫–∏ –≤ –≤–∞—à–µ–º HTML/CSS

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Vite (–∏–ª–∏ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞) —Å–ø—Ä–∞–π—Ç –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫–∏, —Å—Å—ã–ª–∞—è—Å—å –Ω–∞ –Ω–∏—Ö —Å –ø–æ–º–æ—â—å—é —ç–ª–µ–º–µ–Ω—Ç–∞ `<use>`:

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —É –≤–∞—Å –µ—Å—Ç—å –∏–∫–æ–Ω–∫–∞ `home.svg` –≤ –≤–∞—à–µ–π –ø–∞–ø–∫–µ `input` –∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`output: 'dist/assets'`, `name: 'sprite.svg'`).

```html
<svg class="icon-24x24">
  <use href="/assets/sprite.svg#home"></use>
</svg>

<svg class="icon-small">
  <use href="/icons-bundle.svg#settings"></use>
</svg>

<style>
  .icon-24x24 {
    width: 24px;
    height: 24px;
    fill: currentColor; /* –ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ü–≤–µ—Ç–æ–º —Å –ø–æ–º–æ—â—å—é CSS */
  }
  .icon-small {
    width: 16px;
    height: 16px;
    fill: blue;
  }
</style>
```

-----

## ‚öôÔ∏è –û–ø—Ü–∏–∏

–í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç –æ–ø—Ü–∏–π –ø–ª–∞–≥–∏–Ω—É `viteSvgSprite()`:

| –û–ø—Ü–∏—è  | –¢–∏–ø      | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é     | –û–ø–∏—Å–∞–Ω–∏–µ                                                                  |
| :----- | :------- | :--------------- | :------------------------------------------------------------------------ |
| `input` | `string` | `'src/icons'`    | **–ü—É—Ç—å –∫ –ø–∞–ø–∫–µ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π –≤–∞—à–∏ –∏—Å—Ö–æ–¥–Ω—ã–µ SVG-—Ñ–∞–π–ª—ã**, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞. |
| `output`| `string` | `'dist/assets'`  | **–ü—É—Ç—å, –∫—É–¥–∞ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø—Ä–∞–π—Ç**, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞. |
| `name`  | `string` | `'sprite.svg'`   | **–ò–º—è —Ñ–∞–π–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø—Ä–∞–π—Ç–∞**.                                  |

-----

## ‚ú® –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü–ª–∞–≥–∏–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1.  **–ß—Ç–µ–Ω–∏–µ SVG-—Ñ–∞–π–ª–æ–≤**: –°–∫–∞–Ω–∏—Ä—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—É—é `input` –ø–∞–ø–∫—É –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `.svg` —Ñ–∞–π–ª–æ–≤.
2.  **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∏–º–≤–æ–ª—ã**: –ö–∞–∂–¥—ã–π `<svg>` —Ç–µ–≥ –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ `<symbol>` —Å `id`, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `home.svg` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `<symbol id="home">`). –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ `id` –≤–Ω—É—Ç—Ä–∏ SVG —É–¥–∞–ª—è—é—Ç—Å—è, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.
3.  **–°–±–æ—Ä–∫–∞ —Å–ø—Ä–∞–π—Ç–∞**: –í—Å–µ `<symbol>` —ç–ª–µ–º–µ–Ω—Ç—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –æ–¥–∏–Ω –∫–æ—Ä–Ω–µ–≤–æ–π —Ç–µ–≥ `<svg>`, —Å–æ–∑–¥–∞–≤–∞—è –µ–¥–∏–Ω—ã–π —Ñ–∞–π–ª —Å–ø—Ä–∞–π—Ç–∞.
4.  **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–ø—Ä–∞–π—Ç–∞**: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `sprite.svg` (–∏–ª–∏ –≤–∞—à–µ –∫–∞—Å—Ç–æ–º–Ω–æ–µ –∏–º—è) –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é `output` –ø–∞–ø–∫—É, —Å–æ–∑–¥–∞–≤–∞—è –µ—ë –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
5.  **–ì–æ—Ä—è—á–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –í–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞–≥–∏–Ω –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ SVG-—Ñ–∞–π–ª–∞—Ö –∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç —Å–ø—Ä–∞–π—Ç, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏–∫–æ–Ω–æ–∫ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞.

-----

## ü§ù –í–∫–ª–∞–¥

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –ª—é–±—ã–µ –≤–∫–ª–∞–¥—ã\! –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é, –æ—Ç—á–µ—Ç—ã –æ–± –æ—à–∏–±–∫–∞—Ö –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ [Issue](https://www.google.com/search?q=https://github.com/your-username/vite-svgsprite/issues) –∏–ª–∏ [Pull Request](https://www.google.com/search?q=https://github.com/your-username/vite-svgsprite/pulls) –Ω–∞ GitHub.

-----

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

-----
